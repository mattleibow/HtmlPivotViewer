<!DOCTYPE html>
<html>
<head>
    <style>
        canvas {
            width:500px;
            height:500px;
            position:relative;
            overflow:hidden;
            font-size:10px;
            border:thin solid black;
        }
    </style>
</head>
<body>
    <canvas id="tiger" height="500" width="500">
        Get a better browser.
    </canvas>
    <canvas id="tiger2" height="500" width="500">
        Get a better browser.
    </canvas>
    <canvas id="tiger3" height="500" width="500">
        Get a better browser.
    </canvas>
    <script src="../../src/load.js?target=zoom"></script>
    <script>
        var pi2 = 2 * Math.PI;
        function setupCanvas(name, drawCircle, contentSize) {
            var canvas = document.getElementById(name),
                ctx = canvas.getContext("2d"),
                viewer = new Seadragon2.Viewer(canvas, {
                    contentSize:contentSize,
                    viewportOptions: {
                        maxZoom:10,
                        minZoom:.4,
                        visibilityRatio:.5
                    }
                });
            drawCircle(ctx);
            viewer.viewport.addListener("change",function () {
                drawCircle(ctx);
            });
        }
        setupCanvas("tiger", function (ctx) {
            ctx.fillStyle = "red";
            ctx.fillRect(0,0,500,500);
            ctx.beginPath();
            ctx.fillStyle = "rgb(50,50,50)";
            ctx.arc(250,250,200,0,pi2,true);
            ctx.fill();
        });
        setupCanvas("tiger2", function (ctx) {
            ctx.fillStyle = "red";
            ctx.fillRect(0,0,1,.5);
            ctx.beginPath();
            ctx.fillStyle = "rgb(50,50,50)";
            ctx.arc(.5,.25,.2,0,pi2,true);
            ctx.fill();
        }, new Seadragon2.Point(1, 0.5));
        setupCanvas("tiger3", function (ctx) {
            ctx.fillStyle = "red";
            ctx.fillRect(0,0,500000,1000000);
            ctx.beginPath();
            ctx.fillStyle = "rgb(50,50,50)";
            ctx.arc(250000,500000,200000,0,pi2,true);
            ctx.fill();
        }, new Seadragon2.Point(500000,1000000));
    </script>
</body>
</html>
